<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday!</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@700&display=swap" rel="stylesheet">
<script type="importmap">
{
  "imports": {
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0",
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react-confetti": "https://esm.sh/react-confetti@^6.4.0"
  }
}
</script>
</head>
<body>

    <!-- Room Background -->
    <div class="room">
        <div class="wall"></div> <!-- Heart pattern handled in CSS -->
        <div class="floor"></div>
    </div>

    <!-- Curtains -->
    <div class="curtain left">
        <div class="rope"></div>
    </div>
    <div class="curtain right">
        <div class="rope"></div>
    </div>

    <!-- Bunting Flags -->
    <div class="bunting" id="bunting-container">
        <!-- Flags injected by JS -->
    </div>

    <!-- Start Overlay -->
    <div id="start-overlay">
        <div class="content">
            <h1>Ready to Celebrate?</h1>
            <p>Allow microphone access to blow out the candles!</p>
            <button id="start-btn">Start the Party ðŸŽ‰</button>
        </div>
    </div>

    <!-- Mic Indicator -->
    <div id="mic-indicator" class="hidden">
        <span>ðŸŽ¤</span>
        <div class="bar-bg"><div id="mic-level-bar"></div></div>
    </div>

    <!-- Main Cake Scene -->
    <div class="stage">
        
        <!-- Blue Plate -->
        <div class="plate"></div>

        <!-- Cake Group -->
        <div class="cake-group" id="cake-group">
            
            <!-- Chocolate Base Layer -->
            <div class="cake-base"></div>
            
            <!-- White Icing Layer with Wavy Bottom -->
            <div class="cake-icing-body">
                <div class="text-label">My Babyyy</div>
                <div class="scallop-mask"></div>
            </div>

            <!-- Top Surface -->
            <div class="cake-top">
                <div class="sprinkles-top"></div>
            </div>

            <!-- Decorations Container (Candles & Treats) -->
            <div id="decorations-layer">
                <!-- Injected by JS -->
            </div>
            
            <!-- Plate Decorations -->
            <div id="plate-decorations">
                <!-- Injected by JS -->
            </div>
        </div>

        <!-- Foreground Balloons -->
        <div class="balloons-container">
            <div class="balloon b-yellow"></div>
            <div class="balloon b-red"></div>
            <div class="balloon b-blue"></div>
        </div>

        <!-- Success Message -->
        <div id="message" class="hidden">
            <h2>Happy Birthday!</h2>
            <p>All wishes granted! âœ¨</p>
            <button onclick="location.reload()" class="retry-btn">Play Again</button>
        </div>
    </div>

    <canvas id="confetti-canvas"></canvas>

    <script src="script.js"></script>
</body>
</html>