<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday My Love</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="style.css">
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "react-confetti": "https://esm.sh/react-confetti@^6.4.0",
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0"
  }
}
</script>
</head>
<body>

    <!-- OVERLAY: START SCREEN -->
    <div id="start-screen">
        <div class="heart-bg"></div>
        <div class="content">
            <h1>For My Love</h1>
            <div class="instructions">
                <p>1. Allow Microphone Access üéôÔ∏è</p>
                <p>2. Turn up your volume üîä</p>
                <p>3. Blow on the screen to put out candles üéÇ</p>
            </div>
            <button id="start-btn">Enter Surprise ‚ù§Ô∏è</button>
            <p id="mic-status">Waiting for interaction...</p>
        </div>
    </div>

    <!-- MAIN 3D WORLD -->
    <div id="viewport">
        <div id="camera">
            
            <!-- BACKGROUND ROOM -->
            <div class="room-wall">
                <div class="window">
                    <div class="night-sky">
                        <div class="moon"></div>
                        <div class="stars"></div>
                    </div>
                    <div class="frame"></div>
                    <div class="frame-mid"></div>
                </div>
                <!-- Curtains -->
                <div class="curtain left"></div>
                <div class="curtain right"></div>
            </div>

            <!-- 3D TABLE -->
            <div class="table-group">
                <div class="table-top">
                    <div class="reflection"></div>
                    <!-- Rose Petals on Table -->
                    <div class="petal p1"></div><div class="petal p2"></div><div class="petal p3"></div>
                    <div class="petal p4"></div><div class="petal p5"></div>
                </div>
                <div class="table-side"></div>
                
                <!-- 3D CAKE CONTAINER -->
                <div class="cake-group">
                    
                    <!-- PLATE -->
                    <div class="plate"></div>

                    <!-- BOTTOM TIER -->
                    <div class="tier bottom">
                        <div class="tier-face front"></div>
                        <div class="tier-face back"></div>
                        <div class="tier-face left"></div>
                        <div class="tier-face right"></div>
                        <div class="tier-top"></div>
                    </div>

                    <!-- TOP TIER -->
                    <div class="tier top">
                        <div class="tier-face front"></div>
                        <div class="tier-face back"></div>
                        <div class="tier-face left"></div>
                        <div class="tier-face right"></div>
                        <div class="tier-top">
                            <div class="text-3d">My Baby</div>
                            <div id="candle-placement"></div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- UI OVERLAY -->
    <div id="ui-layer">
        <div class="mic-meter">
            <span class="icon">üéôÔ∏è</span>
            <div class="bar-bg"><div id="mic-bar"></div></div>
        </div>
        
        <div id="message-container" class="hidden">
            <h1 class="glow-text">Happy Birthday!</h1>
            <button id="card-btn">üíå Open Card</button>
        </div>
    </div>

    <!-- 3D CARD MODAL -->
    <div id="card-modal" class="hidden">
        <div class="card-wrapper">
            <div class="card-3d">
                <div class="card-front">
                    <div class="card-design">
                        <span>‚ù§Ô∏è</span>
                        <h2>To My Love</h2>
                    </div>
                </div>
                <div class="card-inside-left">
                     <div class="photo-frame">üì∏</div>
                </div>
                <div class="card-inside-right">
                    <h3>My Dearest,</h3>
                    <p>May your day be filled with as much joy and magic as you bring into my life. I love you more than words can say.</p>
                    <p class="sign">Yours Forever</p>
                </div>
            </div>
        </div>
        <button id="close-card">Close</button>
    </div>

    <script src="script.js"></script>
</body>
</html>